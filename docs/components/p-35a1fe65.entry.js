import{r as t,h as e,H as i,g as n}from"./p-f1ddf482.js";import{c as s,g as r}from"./p-3e8ff66b.js";import{c as a}from"./p-a99f19f0.js";import{u as o,p as h,i as u}from"./p-f5db2eb6.js";import{f as l,b as c}from"./p-ea9c9d56.js";const d=r(s((function(t){window,t.exports=function(t){var e={};function i(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(n,s,function(e){return t[e]}.bind(null,s));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){i.r(e);var n=[],s=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],r=["January","February","March","April","May","June","July","August","September","October","November","December"],a={t:"top",r:"right",b:"bottom",l:"left",c:"centered"};function o(){}var h=["click","focusin","keydown","input"];function u(t){h.forEach((function(e){t.addEventListener(e,t===document?M:C)}))}function l(t){return Array.isArray(t)?t.map(l):"[object Object]"===E(t)?Object.keys(t).reduce((function(e,i){return e[i]=l(t[i]),e}),{}):t}function c(t,e){var i=t.calendar.querySelector(".qs-overlay"),n=i&&!i.classList.contains("qs-hidden");e=e||new Date(t.currentYear,t.currentMonth),t.calendar.innerHTML=[d(e,t,n),f(e,t,n),v(t,n)].join(""),n&&window.requestAnimationFrame((function(){S(!0,t)}))}function d(t,e,i){return['<div class="qs-controls'+(i?" qs-blur":"")+'">','<div class="qs-arrow qs-left"></div>','<div class="qs-month-year">','<span class="qs-month">'+e.months[t.getMonth()]+"</span>",'<span class="qs-year">'+t.getFullYear()+"</span>","</div>",'<div class="qs-arrow qs-right"></div>',"</div>"].join("")}function f(t,e,i){var n=e.currentMonth,s=e.currentYear,r=e.dateSelected,a=e.maxDate,o=e.minDate,h=e.showAllDates,u=e.days,l=e.disabledDates,c=e.startDay,d=e.weekendIndices,f=e.events,v=e.getRange?e.getRange():{},m=+v.start,w=+v.end,b=D(new Date(t).setDate(1)),p=b.getDay()-c,q=p<0?7:0;b.setMonth(b.getMonth()+1),b.setDate(0);var y=b.getDate(),g=[],x=q+7*((p+y)/7|0);x+=(p+y)%7?7:0;for(var S=1;S<=x;S++){var k=(S-1)%7,E=u[k],j=S-(p>=0?p:7+p),M=new Date(s,n,j),C=f[+M],O=j<1||j>y,T=O?j<1?-1:1:0,Y=O&&!h,N=Y?"":M.getDate(),F=k===d[0]||k===d[1],I=m!==w,A="qs-square "+E;C&&!Y&&(A+=" qs-event"),O&&(A+=" qs-outside-current-month"),!h&&O||(A+=" qs-num"),+M==+r&&(A+=" qs-active"),(l[+M]||e.disabler(M)||F&&e.noWeekends||o&&+M<+o||a&&+M>+a)&&!Y&&(A+=" qs-disabled"),+D(new Date)==+M&&(A+=" qs-current"),+M===m&&w&&I&&(A+=" qs-range-start"),+M>m&&+M<w&&(A+=" qs-range-middle"),+M===w&&m&&I&&(A+=" qs-range-end"),Y&&(A+=" qs-empty",N=""),g.push('<div class="'+A+'" data-direction="'+T+'">'+N+"</div>")}var V=u.map((function(t){return'<div class="qs-square qs-day">'+t+"</div>"})).concat(g);return V.unshift('<div class="qs-squares'+(i?" qs-blur":"")+'">'),V.push("</div>"),V.join("")}function v(t,e){var i=t.overlayButton;return['<div class="qs-overlay'+(e?"":" qs-hidden")+'">',"<div>",'<input class="qs-overlay-year" placeholder="'+t.overlayPlaceholder+'" inputmode="numeric" />','<div class="qs-close">&#10005;</div>',"</div>",'<div class="qs-overlay-month-container">'+t.overlayMonths.map((function(t,e){return'<div class="qs-overlay-month" data-month-num="'+e+'">'+t+"</div>"})).join("")+"</div>",'<div class="qs-submit qs-disabled">'+i+"</div>","</div>"].join("")}function m(t,e,i){var n=e.el,s=e.calendar.querySelector(".qs-active"),r=e.sibling;(n.disabled||n.readOnly)&&e.respectDisabledReadOnly||(e.dateSelected=i?void 0:new Date(e.currentYear,e.currentMonth,t.textContent),s&&s.classList.remove("qs-active"),i||t.classList.add("qs-active"),b(n,e,i),i||g(e),r&&(w({instance:e,deselect:i}),e.first&&!r.dateSelected&&(r.currentYear=e.currentYear,r.currentMonth=e.currentMonth,r.currentMonthName=e.currentMonthName),c(e),c(r)),e.onSelect(e,i?void 0:new Date(e.dateSelected)))}function w(t){var e=t.instance.first?t.instance:t.instance.sibling,i=e.sibling;e===t.instance?t.deselect?(e.minDate=e.originalMinDate,i.minDate=i.originalMinDate):i.minDate=e.dateSelected:t.deselect?(i.maxDate=i.originalMaxDate,e.maxDate=e.originalMaxDate):e.maxDate=i.dateSelected}function b(t,e,i){if(!e.nonInput)return i?t.value="":e.formatter!==o?e.formatter(t,e.dateSelected,e):void(t.value=e.dateSelected.toDateString())}function p(t,e,i,n){i||n?(i&&(e.currentYear=+i),n&&(e.currentMonth=+n)):(e.currentMonth+=t.contains("qs-right")?1:-1,12===e.currentMonth?(e.currentMonth=0,e.currentYear++):-1===e.currentMonth&&(e.currentMonth=11,e.currentYear--)),e.currentMonthName=e.months[e.currentMonth],c(e),e.onMonthChange(e)}function q(t){if(!t.noPosition){var e=t.position.top,i=t.position.right;if(t.position.centered)return t.calendarContainer.classList.add("qs-centered");var n=t.positionedEl.getBoundingClientRect(),s=t.el.getBoundingClientRect(),r=t.calendarContainer.getBoundingClientRect(),a=s.left-n.left+(i?s.width-r.width:0)+"px";t.calendarContainer.style.setProperty("top",s.top-n.top+(e?-1*r.height:s.height)+"px"),t.calendarContainer.style.setProperty("left",a)}}function y(t){return"[object Date]"===E(t)&&"Invalid Date"!==t.toString()}function D(t){if(y(t)||"number"==typeof t&&!isNaN(t)){var e=new Date(+t);return new Date(e.getFullYear(),e.getMonth(),e.getDate())}}function g(t){t.disabled||!t.calendarContainer.classList.contains("qs-hidden")&&!t.alwaysShow&&("overlay"!==t.defaultView&&S(!0,t),t.calendarContainer.classList.add("qs-hidden"),t.onHide(t))}function x(t){t.disabled||(t.calendarContainer.classList.remove("qs-hidden"),"overlay"===t.defaultView&&S(!1,t),q(t),t.onShow(t))}function S(t,e){var i=e.calendar,n=i.querySelector(".qs-overlay"),s=n.querySelector(".qs-overlay-year"),r=i.querySelector(".qs-controls"),a=i.querySelector(".qs-squares");t?(n.classList.add("qs-hidden"),r.classList.remove("qs-blur"),a.classList.remove("qs-blur"),s.value=""):(n.classList.remove("qs-hidden"),r.classList.add("qs-blur"),a.classList.add("qs-blur"),s.focus())}function k(t,e,i,n){var s=isNaN(+(new Date).setFullYear(e.value||void 0)),r=s?null:e.value;13===t.which||13===t.keyCode||"click"===t.type?n?p(null,i,r,n):s||e.classList.contains("qs-disabled")||p(null,i,r):i.calendar.contains(e)&&i.calendar.querySelector(".qs-submit").classList[s?"add":"remove"]("qs-disabled")}function E(t){return{}.toString.call(t)}function j(t){n.forEach((function(e){e!==t&&g(e)}))}function M(t){if(!t.__qs_shadow_dom){var e=t.which||t.keyCode,i=t.type,s=t.target,a=s.classList,o=n.filter((function(t){return t.calendar.contains(s)||t.el===s}))[0],h=o&&o.calendar.contains(s);if(!(o&&o.isMobile&&o.disableMobile))if("click"===i){if(!o)return n.forEach(g);if(o.disabled)return;var u=o.calendar,l=o.calendarContainer,d=o.disableYearOverlay,f=o.nonInput,v=u.querySelector(".qs-overlay-year"),w=!!u.querySelector(".qs-hidden"),b=u.querySelector(".qs-month-year").contains(s),q=s.dataset.monthNum;if(o.noPosition&&!h)(l.classList.contains("qs-hidden")?x:g)(o);else if(a.contains("qs-arrow"))p(a,o);else if(b||a.contains("qs-close"))d||S(!w,o);else if(q)k(t,v,o,q);else{if(a.contains("qs-disabled"))return;if(a.contains("qs-num")){var y=s.textContent,D=+s.dataset.direction,E=new Date(o.currentYear,o.currentMonth+D,y);if(D){o.currentYear=E.getFullYear(),o.currentMonth=E.getMonth(),o.currentMonthName=r[o.currentMonth],c(o);for(var M,C=o.calendar.querySelectorAll('[data-direction="0"]'),O=0;!M;){var T=C[O];T.textContent===y&&(M=T),O++}s=M}return void(+E==+o.dateSelected?m(s,o,!0):s.classList.contains("qs-disabled")||m(s,o))}a.contains("qs-submit")?k(t,v,o):f&&s===o.el&&(x(o),j(o))}}else if("focusin"===i&&o)x(o),j(o);else if("keydown"===i&&9===e&&o)g(o);else if("keydown"===i&&o&&!o.disabled){var Y=!o.calendar.querySelector(".qs-overlay").classList.contains("qs-hidden");13===e&&Y&&h?k(t,s,o):27===e&&Y&&h&&S(!0,o)}else if("input"===i){if(!o||!o.calendar.contains(s))return;var N=o.calendar.querySelector(".qs-submit"),F=s.value.split("").reduce((function(t,e){return t||"0"!==e?t+(e.match(/[0-9]/)?e:""):""}),"").slice(0,4);s.value=F,N.classList[4===F.length?"remove":"add"]("qs-disabled")}}}function C(t){M(t),t.__qs_shadow_dom=!0}function O(t,e){h.forEach((function(i){t.removeEventListener(i,e)}))}function T(){x(this)}function Y(){g(this)}function N(t,e){var i=D(t),n=this.currentYear,s=this.currentMonth,r=this.sibling;if(null==t)return this.dateSelected=void 0,b(this.el,this,!0),r&&(w({instance:this,deselect:!0}),c(r)),c(this),this;if(!y(t))throw new Error("`setDate` needs a JavaScript Date object.");if(this.disabledDates[+i]||i<this.minDate||i>this.maxDate)throw new Error("You can't manually set a date that's disabled.");this.dateSelected=i,e&&(this.currentYear=i.getFullYear(),this.currentMonth=i.getMonth(),this.currentMonthName=this.months[i.getMonth()]),b(this.el,this),r&&(w({instance:this}),c(r));var a=n===i.getFullYear()&&s===i.getMonth();return a||e?c(this,i):a||c(this,new Date(n,s,1)),this}function F(t){return A(this,t,!0)}function I(t){return A(this,t)}function A(t,e,i){var n=t.dateSelected,s=t.first,r=t.sibling,a=t.minDate,o=t.maxDate,h=D(e),u=i?"Min":"Max";function l(){return"original"+u+"Date"}function d(){return u.toLowerCase()+"Date"}function f(){return"set"+u}function v(){throw new Error("Out-of-range date passed to "+f())}if(null==e)t[l()]=void 0,r?(r[l()]=void 0,i?(s&&!n||!s&&!r.dateSelected)&&(t.minDate=void 0,r.minDate=void 0):(s&&!r.dateSelected||!s&&!n)&&(t.maxDate=void 0,r.maxDate=void 0)):t[d()]=void 0;else{if(!y(e))throw new Error("Invalid date passed to "+f());r?((s&&i&&h>(n||o)||s&&!i&&h<(r.dateSelected||a)||!s&&i&&h>(r.dateSelected||o)||!s&&!i&&h<(n||a))&&v(),t[l()]=h,r[l()]=h,(i&&(s&&!n||!s&&!r.dateSelected)||!i&&(s&&!r.dateSelected||!s&&!n))&&(t[d()]=h,r[d()]=h)):((i&&h>(n||o)||!i&&h<(n||a))&&v(),t[d()]=h)}return r&&c(r),c(t),t}function V(){var t=this.first?this:this.sibling;return{start:t.dateSelected,end:t.sibling.dateSelected}}function J(){var t=this.shadowDom,e=this.positionedEl,i=this.calendarContainer,s=this.sibling,r=this;this.inlinePosition&&(n.some((function(t){return t!==r&&t.positionedEl===e}))||e.style.setProperty("position",null)),i.remove(),n=n.filter((function(t){return t!==r})),s&&delete s.sibling,n.length||O(document,M);var a=n.some((function(e){return e.shadowDom===t}));for(var o in t&&!a&&O(t,C),this)delete this[o];n.length||h.forEach((function(t){document.removeEventListener(t,M)}))}function B(t,e){var i=new Date(t);if(!y(i))throw new Error("Invalid date passed to `navigate`");this.currentYear=i.getFullYear(),this.currentMonth=i.getMonth(),c(this),e&&this.onMonthChange(this)}function H(){var t=!this.calendarContainer.classList.contains("qs-hidden"),e=!this.calendarContainer.querySelector(".qs-overlay").classList.contains("qs-hidden");t&&S(e,this)}e.default=function(t,e){var i=function(t,e){var i,h,u=function(t){var e=l(t);e.events&&(e.events=e.events.reduce((function(t,e){if(!y(e))throw new Error('"options.events" must only contain valid JavaScript Date objects.');return t[+D(e)]=!0,t}),{})),["startDate","dateSelected","minDate","maxDate"].forEach((function(t){var i=e[t];if(i&&!y(i))throw new Error('"options.'+t+'" needs to be a valid JavaScript Date object.');e[t]=D(i)}));var i=e.position,r=e.maxDate,h=e.minDate,u=e.dateSelected,c=e.overlayPlaceholder,d=e.overlayButton,f=e.startDay,v=e.id;if(e.startDate=D(e.startDate||u||new Date),e.disabledDates=(e.disabledDates||[]).reduce((function(t,e){var i=+D(e);if(!y(e))throw new Error('You supplied an invalid date to "options.disabledDates".');if(i===+D(u))throw new Error('"disabledDates" cannot contain the same date as "dateSelected".');return t[i]=1,t}),{}),e.hasOwnProperty("id")&&null==v)throw new Error("`id` cannot be `null` or `undefined`");if(null!=v){var m=n.filter((function(t){return t.id===v}));if(m.length>1)throw new Error("Only two datepickers can share an id.");m.length?(e.second=!0,e.sibling=m[0]):e.first=!0}var w=["tr","tl","br","bl","c"].some((function(t){return i===t}));if(i&&!w)throw new Error('"options.position" must be one of the following: tl, tr, bl, br, or c.');function b(t){throw new Error('"dateSelected" in options is '+(t?"less":"greater")+' than "'+(t||"max")+'Date".')}if(e.position=function(t){var e=t[1],i={};return i[a[t[0]]]=1,e&&(i[a[e]]=1),i}(i||"bl"),r<h)throw new Error('"maxDate" in options is less than "minDate".');if(u&&(h>u&&b("min"),r<u&&b()),["onSelect","onShow","onHide","onMonthChange","formatter","disabler"].forEach((function(t){"function"!=typeof e[t]&&(e[t]=o)})),["customDays","customMonths","customOverlayMonths"].forEach((function(t,i){var n=e[t],s=i?12:7;if(n){if(!Array.isArray(n)||n.length!==s||n.some((function(t){return"string"!=typeof t})))throw new Error('"'+t+'" must be an array with '+s+" strings.");e[i?i<2?"months":"overlayMonths":"days"]=n}})),f&&f>0&&f<7){var p=(e.customDays||s).slice(),q=p.splice(0,f);e.customDays=p.concat(q),e.startDay=+f,e.weekendIndices=[p.length-1,p.length]}else e.startDay=0,e.weekendIndices=[6,0];"string"!=typeof c&&delete e.overlayPlaceholder,"string"!=typeof d&&delete e.overlayButton;var g=e.defaultView;if(g&&"calendar"!==g&&"overlay"!==g)throw new Error('options.defaultView must either be "calendar" or "overlay".');return e.defaultView=g||"calendar",e}(e||{startDate:D(new Date),position:"bl",defaultView:"calendar"}),c=t;if("string"==typeof c)c="#"===c[0]?document.getElementById(c.slice(1)):document.querySelector(c);else{if("[object ShadowRoot]"===E(c))throw new Error("Using a shadow DOM as your selector is not supported.");for(var d,f=c.parentNode;!d;){var v=E(f);"[object HTMLDocument]"===v?d=!0:"[object ShadowRoot]"===v?(d=!0,i=f,h=f.host):f=f.parentNode}}if(!c)throw new Error("No selector / element found.");if(n.some((function(t){return t.el===c})))throw new Error("A datepicker already exists on that element.");var m=c===document.body,w=i?c.parentElement||i:m?document.body:c.parentElement,p=i?c.parentElement||h:w,q=document.createElement("div"),g=document.createElement("div");q.className="qs-datepicker-container qs-hidden",g.className="qs-datepicker";var S={shadowDom:i,customElement:h,positionedEl:p,el:c,parent:w,nonInput:"INPUT"!==c.nodeName,noPosition:m,position:!m&&u.position,startDate:u.startDate,dateSelected:u.dateSelected,disabledDates:u.disabledDates,minDate:u.minDate,maxDate:u.maxDate,noWeekends:!!u.noWeekends,weekendIndices:u.weekendIndices,calendarContainer:q,calendar:g,currentMonth:(u.startDate||u.dateSelected).getMonth(),currentMonthName:(u.months||r)[(u.startDate||u.dateSelected).getMonth()],currentYear:(u.startDate||u.dateSelected).getFullYear(),events:u.events||{},defaultView:u.defaultView,setDate:N,remove:J,setMin:F,setMax:I,show:T,hide:Y,navigate:B,toggleOverlay:H,onSelect:u.onSelect,onShow:u.onShow,onHide:u.onHide,onMonthChange:u.onMonthChange,formatter:u.formatter,disabler:u.disabler,months:u.months||r,days:u.customDays||s,startDay:u.startDay,overlayMonths:u.overlayMonths||(u.months||r).map((function(t){return t.slice(0,3)})),overlayPlaceholder:u.overlayPlaceholder||"4-digit year",overlayButton:u.overlayButton||"Submit",disableYearOverlay:!!u.disableYearOverlay,disableMobile:!!u.disableMobile,isMobile:"ontouchstart"in window,alwaysShow:!!u.alwaysShow,id:u.id,showAllDates:!!u.showAllDates,respectDisabledReadOnly:!!u.respectDisabledReadOnly,first:u.first,second:u.second};if(u.sibling){var k=u.sibling,j=S,M=k.minDate||j.minDate,C=k.maxDate||j.maxDate;j.sibling=k,k.sibling=j,k.minDate=M,k.maxDate=C,j.minDate=M,j.maxDate=C,k.originalMinDate=M,k.originalMaxDate=C,j.originalMinDate=M,j.originalMaxDate=C,k.getRange=V,j.getRange=V}u.dateSelected&&b(c,S);var O=getComputedStyle(p).position;m||O&&"static"!==O||(S.inlinePosition=!0,p.style.setProperty("position","relative"));var A=n.filter((function(t){return t.positionedEl===S.positionedEl}));return A.some((function(t){return t.inlinePosition}))&&(S.inlinePosition=!0,A.forEach((function(t){t.inlinePosition=!0}))),q.appendChild(g),w.appendChild(q),S.alwaysShow&&x(S),S}(t,e);if(n.length||u(document),i.shadowDom&&(n.some((function(t){return t.shadowDom===i.shadowDom}))||u(i.shadowDom)),n.push(i),i.second){var h=i.sibling;w({instance:i,deselect:!i.dateSelected}),w({instance:h,deselect:!h.dateSelected}),c(h)}return c(i,i.startDate||i.dateSelected),i.alwaysShow&&q(i),i}}]).default}))),f=/^\d{4}-(0?[1-9]|1[012])-(0?[1-9]|[12][0-9]|3[01])$/,v=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),m=class{constructor(e){t(this,e),this.uuid=o(),this.dataAttributes={},this.isDateInputSupported=!1,this.allowFuture=!0,this.allowPast=!0,this.dense=!1,this.disabled=!1,this.error=!1,this.floatLabel=!1,this.isFocused=!1,this.isInputDirty=!1}onValueChange(){if(!this.value||f.test(this.value))try{this.datepicker.setDate(this.value?new Date(this.value+"T00:00:00"):void 0,!0)}catch(t){}}onClick(t){const e=this.calendarButton&&this.calendarButton.contains(t.target);!this.isCalendarOpen&&e?(this.openCalendar(),t.preventDefault()):this.isCalendarOpen&&!this.datepicker.calendarContainer.contains(t.target)&&this.closeCalendar()}connectedCallback(){if(this.value&&!/^\d{4}-(0?[1-9]|1[012])-(0?[1-9]|[12][0-9]|3[01])$/.test(this.value))throw new Error("The date picker value must be in YYYY-MM-DD format.")}componentWillRender(){this.datepicker||this.componentDidLoad(),h.call(this)}componentDidLoad(){if(this.inputEl){this.isDateInputSupported="date"===this.inputEl.type;try{const t=this.value?new Date(this.value+"T00:00:00"):void 0;this.datepicker=d(this.inputEl,{alwaysShow:!0,customDays:["S","M","T","W","T","F","S"],overlayButton:"Confirm",overlayPlaceholder:"Year (YYYY)",minDate:t<this.minDate?void 0:this.minDate,maxDate:t>this.maxDate?void 0:this.maxDate,dateSelected:t,formatter:(t,e)=>{this.inputEl.contains(document.activeElement)||(t.value=e.toISOString().split("T")[0],this.value=t.value,t.dispatchEvent(new Event("input",{cancelable:!0,bubbles:!0})),this.isDateInputSupported||(t.value=e.toLocaleDateString()))},onSelect:()=>{this.error=!1,this.closeCalendar()}}),this.datepicker.calendarContainer.classList.add("hidden"),this.datepicker.calendarContainer.addEventListener("click",this.repositionCalendar.bind(this)),this.datepicker.calendarContainer.addEventListener("focusin",this.repositionCalendar.bind(this)),this.datepicker.calendarContainer.addEventListener("mousedown",this.repositionCalendar.bind(this))}catch(t){}}}onBlur(){if(this.isCalendarOpen||(this.isFocused=!1),this.isDateInputSupported&&(this.inputEl.validity.rangeOverflow||this.inputEl.validity.rangeUnderflow))this.error=!0;else if(!this.isDateInputSupported&&this.isInputDirty){if(this.disabled)return;let t;if(this.error=!1,this.inputEl.value){if(t=new Date(Date.parse(this.inputEl.value)),!u(t))return void(this.error=!0);this.value=t.toISOString().split("T")[0]}else this.value=null;this.inputEl.value=this.value,this.inputEl.dispatchEvent(new Event("input",{cancelable:!0,bubbles:!0})),t&&(this.inputEl.value=t.toLocaleDateString())}}onFocus(t){this.isFocused=!0,this.error=!1,this.isInputDirty=!1,t.stopPropagation()}onInput(t){const e=t.target.value;if(e&&!f.test(e))t.stopPropagation();else if(this.datepicker&&this.value!==e){this.value=e;try{this.datepicker.setDate(e?new Date(e+"T00:00:00"):void 0)}catch(t){}}!this.isDateInputSupported&&this.isFocused&&(this.isInputDirty=!0)}onKeyDown(t){" "!==t.key&&"Enter"!==t.key||t.preventDefault()}onClickLabel(){this.inputEl.focus()}async openCalendar(){this.datepicker&&(this.isFocused=!0,this.datepicker.navigate(this.datepicker.dateSelected||new Date),this.datepicker.calendarContainer.classList.remove("hidden"),this.popoverInstance=await a(this.calendarButton,this.datepicker.calendarContainer,"bottom",[-4,0]),await l(this.datepicker.calendarContainer))}repositionCalendar(){requestAnimationFrame(this.popoverInstance.forceUpdate)}async closeCalendar(){this.datepicker&&(await c(this.datepicker.calendarContainer),this.datepicker.calendarContainer.classList.add("hidden"),this.inputEl.contains(document.activeElement)||(this.isFocused=!1),this.popoverInstance&&(this.popoverInstance.destroy(),this.popoverInstance=null))}get minDate(){if(this.min)return new Date(this.min+"T00:00:00");if(!this.allowPast){const t=new Date;return t.setHours(0,0,0,0),t}}get maxDate(){return this.max?new Date(this.max+"T00:00:00"):this.allowFuture?new Date(9999,11,31):new Date}get minValue(){return this.minDate?this.minDate.toISOString().split("T")[0]:null}get maxValue(){return this.maxDate?this.maxDate.toISOString().split("T")[0]:null}get isCalendarOpen(){return!!this.datepicker&&!this.datepicker.calendarContainer.classList.contains("hidden")}get labelClassNames(){let t="block";return this.floatLabel?(t+=" absolute mt-0 left-12 px-4 min-w-1/2",this.dense&&(t+=" dense text-4"),(this.isFocused||this.inputHasText)&&(t+=" floating"),this.isFocused&&(t+=" -ml-1")):t+=" subtitle2 mb-4 pointer-events-none",t}get inputHasText(){return!!this.inputEl&&(this.inputEl.value||this.inputEl.validity.badInput)}get pickerWrapperClass(){let t="picker-wrapper w-320 flex items-center relative rounded-lg";return t+=this.dense?" h-36":" h-48",t+=this.error||this.isFocused?" border-2":" border",this.disabled&&(t+=" disabled"),this.isFocused&&(t+=" focused"),t}get inputClass(){let t="absolute inset-0 w-full h-full pl-12 overflow-hidden outline-none appearance-none select-none bg-transparent";return(this.isFocused||this.error)&&(t+=" -ml-1"),!this.floatLabel||this.isFocused||this.inputHasText?v&&!this.inputHasText&&(t+=" opacity-50"):t+=" opacity-0",t}get calendarButtonClass(){let t="calendar-button cursor-pointer border-0 absolute flex items-center text-icon h-full right-12 space-x-8";return this.disabled&&(t+=" pointer-events-none"),(this.isFocused||this.error)&&(t+=" -mr-1"),t}render(){const t=e("label",{htmlFor:this.inputId||this.uuid,class:this.labelClassNames,onClick:this.onClickLabel.bind(this)},this.label);return e(i,{class:"mx-date-picker block text-3"+(this.error?" error":"")},this.label&&!this.floatLabel&&t,e("div",{ref:t=>this.pickerWrapper=t,class:this.pickerWrapperClass},e("input",Object.assign({ref:t=>this.inputEl=t,"aria-label":this.elAriaLabel||this.label,class:this.inputClass,disabled:this.disabled,id:this.inputId||this.uuid,name:this.name,type:"date",min:this.minValue,max:this.maxValue,onBlur:this.onBlur.bind(this),onClick:t=>t.preventDefault(),onKeyDown:this.onKeyDown.bind(this),onFocus:this.onFocus.bind(this),onFocusin:t=>t.stopPropagation(),onInput:this.onInput.bind(this)},this.dataAttributes)),this.label&&this.floatLabel&&t,e("button",{type:"button","aria-label":"Open calendar",ref:t=>this.calendarButton=t,class:this.calendarButtonClass,"data-testid":"calendar-button",disabled:this.disabled},e("i",{class:this.error?"mds-warning-circle":"mds-calendar"}))),this.assistiveText&&e("div",{class:"caption1 mt-4 ml-16"},e("span",{"data-testid":"assistive-text",class:"assistive-text"},this.assistiveText)))}get element(){return n(this)}static get watchers(){return{value:["onValueChange"]}}};export{m as mx_date_picker}