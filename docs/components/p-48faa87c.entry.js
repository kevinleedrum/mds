import{r as t,h as s,H as i,g as e}from"./p-f1ddf482.js";import{c as h}from"./p-a99f19f0.js";import{f as o,b as a}from"./p-ea9c9d56.js";import{u as n}from"./p-f5db2eb6.js";const r=class{constructor(s){t(this,s),this.uuid=n(),this.appearDelay=0,this.extended=!1,this.inverted=!1,this.maxWidth="10rem",this.isOpen=!1,this.placement="bottom"}onIsOpenChange(){this.isOpen?this.show():this.hide()}componentDidLoad(){let t=this.element.firstElementChild;t=this.element.querySelector('a, button, input, [role="button"]')||t,t.setAttribute("aria-describedby",this.uuid),t.addEventListener("mouseenter",this.show.bind(this)),t.addEventListener("mouseleave",this.hide.bind(this)),-1===t.tabIndex&&(t.tabIndex=0),t.addEventListener("focus",this.show.bind(this)),t.addEventListener("blur",this.hide.bind(this))}async show(){clearTimeout(this.openTimeout),this.isOpen||(this.openTimeout=setTimeout((async()=>{this.isOpen=!0,this.popoverInstance=await h(this.element.firstElementChild,this.tooltipElem,this.placement,[0,4]),o(this.tooltipElem)}),this.appearDelay))}async hide(){clearTimeout(this.openTimeout),this.isOpen&&(await a(this.tooltipElem),this.isOpen=!1,this.popoverInstance&&(this.popoverInstance.destroy(),this.popoverInstance=null))}get tooltipClasses(){let t="mx-tooltip caption1 absolute pointer-events-none z-50";return this.isOpen||(t+=" hidden"),this.inverted&&(t+=" inverted"),t+=this.extended?" p-16 rounded-lg shadow-4":" px-12 py-4 rounded-2xl",this.tooltipClass&&(t+=" "+this.tooltipClass),t}render(){return s(i,{class:"inline-flex"},s("slot",null),s("div",{ref:t=>this.tooltipElem=t,id:this.uuid,role:"tooltip",class:this.tooltipClasses,style:{maxWidth:this.maxWidth},"data-testid":"tooltip"},s("slot",{name:"tooltip"},this.value)))}get element(){return e(this)}static get watchers(){return{isOpen:["onIsOpenChange"]}}};export{r as mx_tooltip}