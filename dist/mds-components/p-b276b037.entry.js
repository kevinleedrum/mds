import{r as t,h as s,H as e,g as i}from"./p-31bdeba9.js";import{M as h,m as r}from"./p-8a252c56.js";import{R as n}from"./p-55a92655.js";const a=class{constructor(s){t(this,s),this.hasTabs=!1,this.hasModalHeaderCenter=!1,this.hasModalHeaderRight=!1,this.buttons=[],this.modal=!1,this.previousPageUrl="",this.previousPageTitle="Back",this.pattern=!1,this.minWidths=new h,this.renderTertiaryButtonAsMenu=!1}async resetResizeObserver(){this.resizeObserver&&this.resizeObserver.disconnect(),this.resizeObserver=new n((()=>this.updateRenderTertiaryButtonAsMenu())),this.resizeObserver.observe(this.element),requestAnimationFrame(this.updateRenderTertiaryButtonAsMenu.bind(this))}updateSlottedButtonSize(){this.element.querySelectorAll('[slot="buttons"] mx-button').forEach((t=>t.xl=this.minWidths.lg))}componentWillLoad(){this.hasTabs=!!this.element.querySelector('[slot="tabs"]'),this.hasModalHeaderCenter=!!this.element.querySelector('[slot="modal-header-center"]'),this.hasModalHeaderRight=!!this.element.querySelector('[slot="modal-header-right"]'),this.updateSlottedButtonSize()}connectedCallback(){r.subscribeComponent(this)}disconnectedCallback(){r.unsubscribeComponent(this)}updateRenderTertiaryButtonAsMenu(){if(this.minWidths.md||this.buttons.length<3)return void(this.renderTertiaryButtonAsMenu=!1);if(!this.tertiaryButtonWrapper)return;const{left:t}=this.tertiaryButtonWrapper.getBoundingClientRect(),s=Math.floor(t+this.tertiaryButtonWrapper.offsetWidth),{right:e}=this.buttonRow.getBoundingClientRect(),i=s>e;this.renderTertiaryButtonAsMenu=i,i&&requestAnimationFrame((()=>{this.tertiaryMenu&&(this.tertiaryMenu.anchorEl=this.menuButton)}))}componentDidLoad(){this.resetResizeObserver()}get hostClass(){let t="mx-page-header flex flex-col";return this.pattern&&(t+=" bg-pattern"),this.minWidths.md&&this.modal?(t+=" px-40",t+=this.hasTabs?" min-h-128":" min-h-80",t):(t+=" px-24 lg:px-72",this.hasTabs&&(t+=" pb-12 md:pb-0"),t+=this.buttons.length&&this.hasTabs?" min-h-176 md:min-h-164":this.buttons.length?" min-h-128":" min-h-80 md:min-h-128",t)}get headingClass(){let t="my-0 pr-20 emphasis ";return t+=this.minWidths.md?this.previousPageUrl||this.modal?"text-h5":"text-h3":this.previousPageUrl?"text-h6":"text-h5",this.hasModalHeaderRight&&(t+=" pr-80"),t}get previousPageClass(){let t="flex items-center pt-16 md:pt-20 uppercase caption1 font-semibold tracking-1-25";return this.modal&&(t+=" md:hidden"),t}get buttonsJsx(){return s("div",{ref:t=>this.buttonRow=t,class:"flex py-1 space-x-8 md:space-x-24 md:justify-end md:flex-row-reverse md:space-x-reverse items-center max-w-full"},this.buttons.map(((t,e)=>{let{btnType:i}=t;i||(i=0===e?"contained":1===e?"outlined":"text");const h=2===e,r=function(t,s){var e={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&s.indexOf(i)<0&&(e[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var h=0;for(i=Object.getOwnPropertySymbols(t);h<i.length;h++)s.indexOf(i[h])<0&&Object.prototype.propertyIsEnumerable.call(t,i[h])&&(e[i[h]]=t[i[h]])}return e}(t,["label"]);return s("div",{ref:t=>h&&(this.tertiaryButtonWrapper=t),class:h?"relative flex flex-1 justify-end":""},h&&this.renderTertiaryButtonAsMenu&&s("div",{class:"absolute -top-6"},s("mx-icon-button",{ref:t=>this.menuButton=t,icon:"mds-dots-vertical"}),s("mx-menu",{ref:t=>this.tertiaryMenu=t,"anchor-el":this.menuButton,onMxClose:t=>t.stopPropagation()},s("mx-menu-item",Object.assign({},r),t.label))),s("mx-button",Object.assign({},t,{xl:this.minWidths.lg,"btn-type":i,"aria-hidden":h&&this.renderTertiaryButtonAsMenu?"true":null,class:h&&this.renderTertiaryButtonAsMenu?"opacity-0 pointer-events-none":""}),t.label))})))}render(){return s(e,{class:this.hostClass},s("div",{class:"absolute top-16 md:top-20 md:mt-2 right-24 md:right-40"},s("slot",{name:"modal-header-right"})),s("slot",{name:"previous-page"},this.previousPageUrl&&s("a",{href:this.previousPageUrl,class:this.previousPageClass},s("i",{class:"mds-arrow-left mr-10"}),this.previousPageTitle)),s("div",{class:"flex flex-col py-10 space-y-14 md:space-y-0 md:flex-row flex-grow md:items-center justify-center md:justify-between flex-wrap"},s("div",{class:"flex-1 items-center"+(this.hasModalHeaderCenter?" grid grid-cols-1 sm:grid-cols-3 h-full":" flex")},s("h1",{class:this.headingClass},s("slot",null)),s("slot",{name:"modal-header-center"})),!(this.modal&&this.minWidths.md)&&this.buttons.length>0&&this.buttonsJsx,s("slot",{name:"buttons"})),s("slot",{name:"tabs"}))}get element(){return i(this)}static get watchers(){return{minWidths:["updateSlottedButtonSize"]}}};export{a as mx_page_header}