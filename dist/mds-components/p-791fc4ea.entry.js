import{r as t,h as s,H as i,g as e}from"./p-31bdeba9.js";import{u as h,p as n}from"./p-a8b5b2a2.js";const a=class{constructor(s){t(this,s),this.dataAttributes={},this.uuid=h(),this.type="text",this.dense=!1,this.disabled=!1,this.readonly=!1,this.outerContainerClass="",this.labelClass="",this.error=!1,this.floatLabel=!1,this.textarea=!1,this.textareaHeight="250px",this.isFocused=!1,this.characterCount=0,this.componentWillRender=n}connectedCallback(){this.characterCount=this.hasValue?this.value.length:0}componentDidLoad(){this.updateValue()}onValueChange(){this.updateValue(),this.characterCount=this.hasValue?this.value.length:0}updateValue(){this.workingElem.value=this.hasValue?this.value:""}onFocus(){this.isFocused=!0,this.error=!1}onBlur(){this.isFocused=!1}onContainerClick(){this.disabled||this.readonly||this.workingElem.focus()}onInput(t){this.characterCount=t.target.value.length,this.value=t.target.value}getIconJsx(t){return t.onClick?s("button",{class:"inline-flex items-center justify-center cursor-pointer","aria-label":t.ariaLabel,onClick:t.onClick},s("i",{class:t.icon})):s("i",{class:t.icon+" pointer-events-none"})}get workingElem(){return this.textarea?this.textArea:this.textInput}get hasValue(){return null!==this.value&&""!==this.value&&void 0!==this.value}get containerClass(){let t="mx-input-wrapper flex items-center relative rounded-lg";return this.textarea||(t+=this.dense?" h-36":" h-48"),t+=this.error||this.isFocused?" border-2":" border",this.error&&(t+=" error"),this.disabled&&(t+=" disabled"),this.readonly&&(t+=" readonly"),t}get inputClass(){let t="flex-1 outline-none appearance-none bg-transparent";return t+=this.textarea?" p-16 overflow-y-auto resize-none":" px-16 overflow-hidden",(this.isFocused||this.error)&&(t+=this.leftIcon?" -mr-1":" -m-1"),t}get labelClassNames(){let t="block pointer-events-none";return this.floatLabel?(t+=" absolute mt-0 px-4",this.textarea&&(t+=" top-12"),t+=this.leftIcon&&!this.textarea?" left-48 has-left-icon":" left-12",this.dense&&!this.textarea&&(t+=" dense text-4"),(this.isFocused||this.characterCount>0)&&(t+=" floating"),(this.isFocused||this.error)&&(t+=" -ml-1"),(this.isFocused||this.error)&&this.textarea&&(t+=" -mt-1")):t+=" subtitle2 mb-4",this.labelClass&&(t+=this.labelClass),t}get leftIconWrapperClass(){let t="flex items-center h-full pl-16 space-x-16";return(this.isFocused||this.error)&&(t+=" -ml-1"),t}get rightContentClass(){let t="icon-suffix flex items-center h-full pr-16 space-x-8";return(this.isFocused||this.error)&&(t+=" -mr-1"),t}get textareaClass(){return this.textarea?" textarea items-start":""}get leftIcons(){return"string"==typeof this.leftIcon?[{icon:this.leftIcon}]:this.leftIcon}get rightIcons(){return"string"==typeof this.rightIcon?[{icon:this.rightIcon}]:this.rightIcon}render(){const t=s("label",{htmlFor:this.inputId||this.uuid,class:this.labelClassNames},this.label);return s(i,{class:"mx-input block"+(this.disabled?" disabled":"")},this.label&&!this.floatLabel&&t,s("div",{class:this.containerClass,onClick:this.onContainerClick.bind(this)},this.leftIcon&&s("div",{class:this.leftIconWrapperClass},this.leftIcons.map(this.getIconJsx)),this.label&&this.floatLabel&&t,this.textarea?s("textarea",Object.assign({class:this.inputClass,style:{height:this.textareaHeight},name:this.name,id:this.inputId||this.uuid,placeholder:this.floatLabel?null:this.placeholder,maxlength:this.maxlength,disabled:this.disabled,readonly:this.readonly,onFocus:this.onFocus.bind(this),onBlur:this.onBlur.bind(this),onInput:this.onInput.bind(this),ref:t=>this.textArea=t},this.dataAttributes),this.value):s("input",Object.assign({type:this.type,class:this.inputClass,name:this.name,id:this.inputId||this.uuid,value:this.value,placeholder:this.floatLabel?null:this.placeholder,"aria-label":this.elAriaLabel||this.placeholder,maxlength:this.maxlength,disabled:this.disabled,readonly:this.readonly,onFocus:this.onFocus.bind(this),onBlur:this.onBlur.bind(this),onInput:this.onInput.bind(this),ref:t=>this.textInput=t},this.dataAttributes)),!this.textarea&&(this.maxlength||this.suffix||this.error||this.rightIcon)&&s("span",{class:this.rightContentClass},this.maxlength&&s("span",{"data-testid":"character-count",class:"character-count pointer-events-none"},this.characterCount,"/",this.maxlength),this.suffix&&s("span",{"data-testid":"suffix",class:"suffix flex items-center h-full px-4 pointer-events-none"},this.suffix),this.error&&s("i",{class:"mds-warning-circle text-icon pointer-events-none"}),this.rightIcon&&!this.error&&s("span",{class:"flex items-center space-x-16"},this.rightIcons.map(this.getIconJsx)))),(this.assistiveText||this.textarea&&this.maxlength)&&s("div",{class:"flex justify-between caption1 mt-4 ml-16 space-x-32"},s("span",{"data-testid":"assistive-text",class:"assistive-text"},this.assistiveText),this.textarea&&this.maxlength&&s("span",{"data-testid":"character-count",class:"character-count"},this.characterCount,"/",this.maxlength)))}get element(){return e(this)}static get watchers(){return{value:["onValueChange"]}}};export{a as mx_input}